# ğŸ¤– æ©Ÿå™¨å­¸ç¿’æ¨¡å‹ä½¿ç”¨èªªæ˜

## ğŸ“¦ æ¨¡å‹æª”æ¡ˆçµæ§‹

```
HRAP/
â”œâ”€â”€ models/                    # æ¨¡å‹æª”æ¡ˆç›®éŒ„
â”‚   â”œâ”€â”€ turnover_model.pkl    # é›¢è·é¢¨éšªé æ¸¬æ¨¡å‹ (Random Forest)
â”‚   â”œâ”€â”€ salary_model.pkl      # è–ªè³‡é æ¸¬æ¨¡å‹ (Random Forest)
â”‚   â”œâ”€â”€ encoders.pkl          # ç‰¹å¾µç·¨ç¢¼å™¨
â”‚   â””â”€â”€ metrics.pkl           # æ¨¡å‹è©•ä¼°æŒ‡æ¨™
â”œâ”€â”€ train_models.py           # è¨“ç·´æ¨¡å‹è…³æœ¬
â””â”€â”€ prediction.py             # ä½¿ç”¨æ¨¡å‹é€²è¡Œé æ¸¬
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1ï¸âƒ£ é¦–æ¬¡ä½¿ç”¨ - è¨“ç·´æ¨¡å‹

```bash
python train_models.py
```

**è¼¸å‡ºç¯„ä¾‹**:
```
ğŸ“Š è¼‰å…¥å“¡å·¥è³‡æ–™...
âœ… è¼‰å…¥ 50 ç­†å“¡å·¥è³‡æ–™

ğŸŒ² è¨“ç·´ Random Forest é›¢è·é¢¨éšªé æ¸¬æ¨¡å‹...
   ğŸ”§ é€²è¡Œç‰¹å¾µå·¥ç¨‹...
   ğŸ” å°‹æ‰¾æœ€ä½³ Random Forest åƒæ•¸...
   âœ… æœ€ä½³åƒæ•¸: {'max_depth': 7, 'max_features': 'sqrt', ...}
   ğŸ“Š äº¤å‰é©—è­‰åˆ†æ•¸: 75.0%
   âœ… æ¸¬è©¦é›†æº–ç¢ºç‡: 80.0%
   
   ğŸ“‹ åˆ†é¡å ±å‘Š:
              precision    recall  f1-score   support
        High       0.80      0.75      0.77         4
         Low       0.75      0.80      0.77         5
      Medium       0.70      0.70      0.70         1
   
   ğŸ” å‰5é‡è¦ç‰¹å¾µ:
      - Risk_Score: 0.234
      - Tenure: 0.189
      - BaseSalary: 0.156
      - Comp_per_Year: 0.142
      - Age: 0.098

ğŸ’° è¨“ç·´è–ªè³‡é æ¸¬æ¨¡å‹...
   âœ… è–ªè³‡é æ¸¬ MAE: $3,245.00
   âœ… è–ªè³‡é æ¸¬ RÂ²: 0.912

ğŸ’¾ å„²å­˜æ¨¡å‹æª”æ¡ˆ...
   âœ… å·²å„²å­˜: models/turnover_model.pkl
   âœ… å·²å„²å­˜: models/salary_model.pkl
   âœ… å·²å„²å­˜: models/encoders.pkl
   âœ… å·²å„²å­˜: models/metrics.pkl

ğŸ‰ æ¨¡å‹è¨“ç·´å®Œæˆ!
```

### 2ï¸âƒ£ ä½¿ç”¨æ¨¡å‹é€²è¡Œé æ¸¬

è¨“ç·´å®Œæˆå¾Œ,å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼:

```bash
python app.py
```

è¨ªå• `/analysis` é é¢å³å¯çœ‹åˆ°é æ¸¬çµæœ!

## ğŸ¤– æ¨¡å‹èªªæ˜

### é›¢è·é¢¨éšªé æ¸¬æ¨¡å‹

**æ¼”ç®—æ³•**: Random Forest Classifier

**ç‚ºä»€éº¼é¸æ“‡ Random Forest?**
- âœ… å°å°æ•¸æ“šé›†æ›´ç©©å®š (50-100 ç­†è³‡æ–™)
- âœ… ä¸å®¹æ˜“éæ“¬åˆ
- âœ… å¯è§£é‡‹æ€§å¼·
- âœ… è¨“ç·´é€Ÿåº¦å¿«
- âœ… æº–ç¢ºç‡: 70-85%

**è¼¸å…¥ç‰¹å¾µ** (14 å€‹):
- **åŸºæœ¬ç‰¹å¾µ**: Age, Tenure, BaseSalary, Bonus, TotalComp
- **é¡åˆ¥ç‰¹å¾µ**: Gender, Department, Status (ç·¨ç¢¼å¾Œ)
- **å·¥ç¨‹ç‰¹å¾µ**:
  - `Salary_to_Median_Ratio`: è–ªè³‡èˆ‡ä¸­ä½æ•¸æ¯”ä¾‹
  - `Is_Low_Salary`: æ˜¯å¦ä½è–ª (å‰25%)
  - `Is_New_Employee`: æ˜¯å¦æ–°å“¡å·¥ (<2å¹´)
  - `Is_Senior`: æ˜¯å¦è³‡æ·±å“¡å·¥ (â‰¥7å¹´)
  - `Comp_per_Year`: æ¯å¹´å¹³å‡è–ªé…¬
  - `Risk_Score`: ç¶œåˆé¢¨éšªåˆ†æ•¸

**è¼¸å‡º**: 
- é¢¨éšªç­‰ç´š: `High` / `Medium` / `Low`
- é æ¸¬æ©Ÿç‡: 0-100%

### è–ªè³‡é æ¸¬æ¨¡å‹

**æ¼”ç®—æ³•**: Random Forest Regressor

**è¼¸å…¥ç‰¹å¾µ** (5 å€‹):
- Age, Tenure, Gender, Department, JobTitle

**è¼¸å‡º**:
- é æ¸¬è–ªè³‡é‡‘é¡
- è–ªè³‡å·®ç•° (å¯¦éš› - é æ¸¬)
- è–ªè³‡å°é½Šç‹€æ…‹: `Above Market` / `Market Aligned` / `Below Market`

## ğŸ“Š æ¨¡å‹è©•ä¼°æŒ‡æ¨™

è¨“ç·´å®Œæˆå¾Œ,æŒ‡æ¨™å„²å­˜åœ¨ `models/metrics.pkl`:

```python
{
    'turnover_accuracy': 80.0,           # é›¢è·é¢¨éšªæº–ç¢ºç‡ (%)
    'turnover_cv_score': 75.0,           # äº¤å‰é©—è­‰åˆ†æ•¸ (%)
    'salary_mae': 3245.00,               # è–ªè³‡é æ¸¬å¹³å‡çµ•å°èª¤å·® ($)
    'salary_r2': 0.912,                  # è–ªè³‡é æ¸¬ RÂ² åˆ†æ•¸
    'trained_date': '2025-12-03 11:30:00',
    'training_samples': 50,
    'model_type': 'Random Forest (Optimized)'
}
```

## ğŸ”„ ä½•æ™‚éœ€è¦é‡æ–°è¨“ç·´?

å»ºè­°åœ¨ä»¥ä¸‹æƒ…æ³é‡æ–°è¨“ç·´æ¨¡å‹:

1. âœ… **æ–°å¢å“¡å·¥è³‡æ–™** - æœ‰ 10+ ç­†æ–°è³‡æ–™æ™‚
2. âœ… **è³‡æ–™æ›´æ–°** - è–ªè³‡ã€è·ä½ã€ç‹€æ…‹è®Šæ›´
3. âœ… **æº–ç¢ºç‡ä¸‹é™** - é æ¸¬çµæœæ˜é¡¯ä¸æº–ç¢º
4. âœ… **æ¥­å‹™è¦å‰‡æ”¹è®Š** - é›¢è·é¢¨éšªå®šç¾©èª¿æ•´
5. âœ… **å®šæœŸæ›´æ–°** - å»ºè­°æ¯æœˆæˆ–æ¯å­£é‡æ–°è¨“ç·´

## âš¡ æ•ˆèƒ½å„ªå‹¢

| é …ç›® | æ¯æ¬¡è«‹æ±‚éƒ½è¨“ç·´ | è¼‰å…¥é è¨“ç·´æ¨¡å‹ |
|------|---------------|---------------|
| éŸ¿æ‡‰æ™‚é–“ | 5-10 ç§’ | **< 0.5 ç§’** âš¡ |
| CPU ä½¿ç”¨ | é«˜ | ä½ |
| è¨˜æ†¶é«” | é«˜ | ä½ |
| å¯æ“´å±•æ€§ | å·® | **å„ªç§€** âœ… |

## ğŸ¯ æº–ç¢ºç‡èªªæ˜

### ä»€éº¼æ˜¯å¥½çš„æº–ç¢ºç‡?

å°æ–¼ HR é›¢è·é¢¨éšªé æ¸¬:
- **60-70%**: åŸºæœ¬å¯ç”¨
- **70-80%**: è‰¯å¥½ âœ… (æˆ‘å€‘çš„ç›®æ¨™)
- **80-90%**: å„ªç§€ â­
- **90%+**: å¹¾ä¹ä¸å¯èƒ½ (é™¤éæœ‰å¤§é‡é«˜è³ªé‡æ•¸æ“š)

### ç‚ºä»€éº¼ä¸æ˜¯ 100%?

- âŒ **100% = è³‡æ–™æ´©æ¼** (ç”¨è¨“ç·´è³‡æ–™æ¸¬è©¦)
- âœ… **70-80% = çœŸå¯¦é æ¸¬èƒ½åŠ›**

äººçš„è¡Œç‚ºæœ¬ä¾†å°±é›£ä»¥ 100% é æ¸¬!

## ğŸ”§ é€²éšå„ªåŒ–

### æå‡æº–ç¢ºç‡çš„æ–¹æ³•

1. **æ”¶é›†æ›´å¤šæ•¸æ“š** â­â­â­ (æœ€é‡è¦!)
   - ç›®å‰: 50 ç­†
   - å»ºè­°: 200+ ç­†
   - æ•ˆæœ: +10-15% æº–ç¢ºç‡

2. **æ”¹é€²æ¥­å‹™è¦å‰‡**
   - æ ¹æ“šå¯¦éš›é›¢è·æ•¸æ“šèª¿æ•´ `calculate_turnover_risk()`
   - æ•ˆæœ: +5-10% æº–ç¢ºç‡

3. **å¢åŠ æ›´å¤šç‰¹å¾µ**
   - ç¸¾æ•ˆè©•åˆ†ã€å‡ºå‹¤ç‡ã€åŠ ç­æ™‚æ•¸ç­‰
   - æ•ˆæœ: +5-8% æº–ç¢ºç‡

4. **èª¿æ•´æ¨¡å‹åƒæ•¸**
   - ä¿®æ”¹ `train_models.py` ä¸­çš„ `param_grid`
   - æ•ˆæœ: +2-5% æº–ç¢ºç‡

### è‡ªè¨‚åƒæ•¸

ç·¨è¼¯ `train_models.py`:

```python
param_grid = {
    'n_estimators': [100, 150, 200],      # æ¨¹çš„æ•¸é‡
    'max_depth': [5, 7, 10, None],        # æ¨¹çš„æ·±åº¦
    'min_samples_split': [2, 5],          # åˆ†è£‚æœ€å°æ¨£æœ¬æ•¸
    'min_samples_leaf': [1, 2],           # è‘‰ç¯€é»æœ€å°æ¨£æœ¬æ•¸
    'max_features': ['sqrt', 'log2']      # ç‰¹å¾µæŠ½æ¨£ç­–ç•¥
}
```

## ğŸ” æ•…éšœæ’é™¤

### éŒ¯èª¤: "æ‰¾ä¸åˆ°æ¨¡å‹æª”æ¡ˆ"

**åŸå› **: å°šæœªè¨“ç·´æ¨¡å‹

**è§£æ±ºæ–¹æ³•**:
```bash
python train_models.py
```

### æº–ç¢ºç‡å¾ˆä½ (<60%)

**å¯èƒ½åŸå› **:
1. æ•¸æ“šé‡å¤ªå°‘
2. æ•¸æ“šè³ªé‡å·®
3. æ¥­å‹™è¦å‰‡ä¸æº–ç¢º

**è§£æ±ºæ–¹æ³•**:
1. æ”¶é›†æ›´å¤šæ•¸æ“š
2. æª¢æŸ¥æ•¸æ“šå®Œæ•´æ€§
3. èª¿æ•´ `calculate_turnover_risk()` å‡½æ•¸

### é æ¸¬çµæœä¸åˆç†

**è§£æ±ºæ–¹æ³•**:
1. æª¢æŸ¥è¼¸å…¥æ•¸æ“šæ˜¯å¦æ­£ç¢º
2. é‡æ–°è¨“ç·´æ¨¡å‹
3. æŸ¥çœ‹ç‰¹å¾µé‡è¦æ€§,ç§»é™¤ä¸ç›¸é—œç‰¹å¾µ

## ğŸ“š æŠ€è¡“ç´°ç¯€

### ç‚ºä»€éº¼é¸æ“‡ Random Forest è€Œé XGBoost?

| è€ƒé‡å› ç´  | Random Forest | XGBoost |
|---------|---------------|---------|
| å°æ•¸æ“šé›† (<100 ç­†) | âœ… å„ªç§€ | âš ï¸ å®¹æ˜“éæ“¬åˆ |
| è¨“ç·´é€Ÿåº¦ | âœ… å¿« | âš ï¸ è¼ƒæ…¢ |
| èª¿åƒé›£åº¦ | âœ… ç°¡å–® | âš ï¸ è¤‡é›œ |
| æº–ç¢ºç‡ (å°æ•¸æ“š) | âœ… 70-80% | âŒ 60-70% |
| å¯è§£é‡‹æ€§ | âœ… é«˜ | âš ï¸ ä¸­ç­‰ |

**çµè«–**: å°æ–¼ 50-100 ç­†çš„å°æ•¸æ“šé›†,Random Forest æ˜¯æ›´å¥½çš„é¸æ“‡!

### ç‰¹å¾µå·¥ç¨‹ç­–ç•¥

æˆ‘å€‘ä½¿ç”¨**ç²¾ç°¡ä½†æœ‰æ•ˆ**çš„ç‰¹å¾µé›†:
- é¿å…ç¶­åº¦ç½é›£ (ç‰¹å¾µæ•¸ << æ¨£æœ¬æ•¸)
- åªä¿ç•™æœ€é‡è¦çš„å·¥ç¨‹ç‰¹å¾µ
- å¹³è¡¡æ¨¡å‹è¤‡é›œåº¦å’Œæº–ç¢ºç‡

## ğŸ“– ç›¸é—œæ–‡ä»¶

- `train_models.py` - æ¨¡å‹è¨“ç·´è…³æœ¬
- `prediction.py` - é æ¸¬é‚è¼¯
- `app.py` - Flask æ‡‰ç”¨æ•´åˆ
- `analysis.html` - å‰ç«¯å±•ç¤º

## ğŸ“ å­¸ç¿’è³‡æº

- [Random Forest åŸç†](https://scikit-learn.org/stable/modules/ensemble.html#forest)
- [ç‰¹å¾µå·¥ç¨‹æœ€ä½³å¯¦è¸](https://scikit-learn.org/stable/modules/preprocessing.html)
- [æ¨¡å‹è©•ä¼°æŒ‡æ¨™](https://scikit-learn.org/stable/modules/model_evaluation.html)

---

**æœ€å¾Œæ›´æ–°**: 2025-12-03  
**æ¨¡å‹ç‰ˆæœ¬**: Random Forest (Optimized for Small Datasets)  
**æº–ç¢ºç‡ç›®æ¨™**: 70-85%
